var formatGoogleCalendar=function(){"use strict";var e,t=function(t){var a=[];e=t,jQuery.getJSON(t.calendarUrl,function(e){e.items.forEach(function(e){e&&e.hasOwnProperty("status")&&"cancelled"!==e.status&&a.push(e)}),a.sort(n).reverse();var r,s=0,u=0,c=[],m=[],p=[],d=jQuery(t.upcomingSelector),g=jQuery(t.pastSelector);t.pastTopN===-1&&(t.pastTopN=a.length),t.upcomingTopN===-1&&(t.upcomingTopN=a.length),t.past===!1&&(t.pastTopN=0),t.upcoming===!1&&(t.upcomingTopN=0);for(r in a)i(a[r].end.dateTime||a[r].end.date)?s<t.pastTopN&&(c.push(a[r]),s++):p.push(a[r]);p.reverse();for(r in p)u<t.upcomingTopN&&(m.push(p[r]),u++);for(r in c)g.append(o(c[r],t.itemsTagName,t.format));for(r in m)d.append(o(m[r],t.itemsTagName,t.format));0!==d.children().length&&jQuery(t.upcomingHeading).insertBefore(d),0!==g.children().length&&jQuery(t.pastHeading).insertBefore(g)})},n=function(e,t){return new Date(e.start.dateTime||e.start.date).getTime()-new Date(t.start.dateTime||t.start.date).getTime()},a=function(e,t){var n,a={};for(n in e)a[n]=e[n];for(n in t)a[n]=t[n];return a},r=function(e,t){var n=p(e),a=p(t);return n.getTime()===a.getTime()-864e5&&0===n.getMinutes()&&0===n.getHours()},o=function(t,n,a){var o=s(t.start.dateTime||t.start.date),i=s(t.end.dateTime||t.end.date),u="undefined"!=typeof t.end.date,c=e.dayNames,m=r(o,i);u&&(i=d(i)),m&&(i=g(i));var p,l=v(o,i,u,m,c),f="<"+n+">",T=t.summary||"",y=t.description||"",h=t.location||"";for(p=0;p<a.length;p++)a[p]=a[p].toString(),"*summary*"===a[p]?f=f.concat('<span class="summary">'+T+"</span>"):"*date*"===a[p]?f=f.concat('<span class="date">'+l+"</span>"):"*description*"===a[p]?f=f.concat('<span class="description">'+y+"</span>"):"*location*"===a[p]?f=f.concat('<a href="https://www.google.com/maps/dir/'+h+'" target ="_blank"><span class="location">'+h.split(",")[0]+"</span></a>"):("*location*"===a[p+1]&&""!==h||"*summary*"===a[p+1]&&""!==T||"*date*"===a[p+1]&&""!==l||"*description*"===a[p+1]&&""!==y)&&(f=f.concat(a[p]));return f+"</"+n+">"},i=function(e){var t=new Date(e),n=new Date;return n.getTime()>t.getTime()},s=function(e){return e=new Date(e),[e.getDate(),e.getMonth(),e.getFullYear(),e.getHours(),e.getMinutes(),0,0]},u=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return t[e]},c=function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return t[e]},m=function(e){return c(p(e).getDay())+" "},p=function(e){return new Date(e[2],e[1],e[0],e[3],e[4]+0,0)},d=function(e){var t=p(e);return t.setTime(t.getTime()-864e5),s(t)},g=function(e){var t=p(e);return t.setTime(t.getTime()-6e4),s(t)},l=function(t,n,a,r,o){var i="",s="";return o&&(s=m(t)),!e.sameDayTimes||a||r||(i=", "+h(t)+" - "+h(n)),s+u(t[1])+" "+t[0]+", "+t[2]+i},f=function(e,t,n){var a="",r="";return n&&(a=m(e),r=m(t)),a+u(e[1])+" "+e[0]+"-"+r+t[0]+", "+e[2]},T=function(e,t,n){var a="",r="";return n&&(a=m(e),r=m(t)),a+u(e[1])+" "+e[0]+"-"+r+u(t[1])+" "+t[0]+", "+e[2]},y=function(e,t,n){var a="",r="";return n&&(a=m(e),r=m(t)),a+u(e[1])+" "+e[0]+", "+e[2]+"-"+r+u(t[1])+" "+t[0]+", "+t[2]},v=function(e,t,n,a,r){var o="";return o=e[0]===t[0]?e[1]===t[1]?e[2]===t[2]?l(e,t,n,a,r):y(e,t,r):e[2]===t[2]?T(e,t,r):y(e,t,r):e[1]===t[1]?e[2]===t[2]?f(e,t,r):y(e,t,r):e[2]===t[2]?T(e,t,r):y(e,t,r)},h=function(e){var t="",n="AM",a=e[3],r=e[4];return a>=12&&(n="PM",a>=13&&(a-=12)),0===a&&(a=12),r=(r<10?"0":"")+r,t=a+":"+r+n};return{init:function(e){var n={calendarUrl:"https://www.googleapis.com/calendar/v3/calendars/adtinc97@gmail.com/events?key=AIzaSyAHGtAq_Dw25zUe78YHyMlEJAo8wBMJ0pc",past:!1,upcoming:!0,sameDayTimes:!0,dayNames:!1,pastTopN:-1,upcomingTopN:-1,itemsTagName:"li",upcomingSelector:"#events-upcoming",pastSelector:"#events-past",upcomingHeading:"",pastHeading:"",format:["*date*",": ","*summary*"," &mdash; "," at ","*location*"]};n=a(n,e),t(n)}}}();formatGoogleCalendar.init({});